apiVersion: v1
kind: Pod
metadata:
  name: webpsychology-pod
  labels:
    app: webpsychology
spec:
  serviceAccountName: jenkins-sa  # Asegúrate de que esta cuenta de servicio esté creada
  containers:
    - name: docker
      image: docker:latest
      resources:
        requests:
          memory: "128Mi"
          cpu: "250m"
        limits:
          memory: "128Mi"
          cpu: "250m"
      command:
        - cat
      tty: true
      volumeMounts:
        - name: webpsychology-docker-socket
          mountPath: /var/run/docker.sock

    - name: kubectl
      image: rosaflores/kubectl:project1 
      resources:
        requests:
          memory: "128Mi"
          cpu: "250m"
        limits:
          memory: "128Mi"
          cpu: "250m"
      command:
        - cat
      tty: true

  volumes:
    - name: webpsychology-docker-socket
      hostPath:
        path: /var/run/docker.sock  # Este debe ser accesible en el nodo
